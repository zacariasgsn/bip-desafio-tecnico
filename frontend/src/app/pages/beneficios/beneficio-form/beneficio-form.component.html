<h2>{{ isEdicao ? 'Editar Benefício' : 'Novo Benefício' }}</h2>

<form [formGroup]="form" (ngSubmit)="salvar()" class="beneficio-form">

  <!-- NOME -->
  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Nome</mat-label>
    <input matInput formControlName="nome">

    <mat-error *ngIf="form.get('nome')?.hasError('required')">
      Nome é obrigatório
    </mat-error>
  </mat-form-field>

  <!-- DESCRIÇÃO -->
  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Descrição</mat-label>
    <input matInput formControlName="descricao">
  </mat-form-field>

  <!-- VALOR -->
  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Valor</mat-label>
    <input
      matInput
      type="number"
      formControlName="valor"
      min="0.01"
      step="0.01">

    <mat-error *ngIf="form.get('valor')?.hasError('required')">
      Valor é obrigatório
    </mat-error>

    <mat-error *ngIf="form.get('valor')?.hasError('min')">
      Valor deve ser maior que zero
    </mat-error>
  </mat-form-field>

  <!-- ATIVO (SOMENTE NA EDIÇÃO) -->
  <mat-checkbox *ngIf="isEdicao" formControlName="ativo">
    Ativo
  </mat-checkbox>

  <br><br>

  <!-- BOTÕES -->
  <button
    mat-raised-button
    color="primary"
    type="submit"
    [disabled]="carregando">

    {{ carregando ? 'Salvando...' : (isEdicao ? 'Atualizar' : 'Salvar') }}
  </button>

  <button
    mat-button
    type="button"
    (click)="router.navigate(['/'])">
    Cancelar
  </button>

</form>
